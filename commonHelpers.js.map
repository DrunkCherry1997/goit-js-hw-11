{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  \n  const form = document.querySelector(\".searchForm\");\n  const searchInput = document.querySelector(\".searchInput\");\n  const loader = document.querySelector(\".loader\");\n  const gallery = document.querySelector(\".gallery\");\n\n  const apiKey = \"42055816-5ec499474650eadfc6b07a02f\";\n  const apiUrl = \"https://pixabay.com/api/\";\n\n  const lightbox = new SimpleLightbox(\".gallery a\");\n\n  form.addEventListener(\"submit\", (event) => {\n   \n    event.preventDefault();\n\n    const searchTerm = searchInput.value.trim();\n\n    if (searchTerm === \"\") {\n      \n      iziToast.error({\n          title: \"Error\",\n          position: \"topRight\",\n        message: \"Please enter a search term.\",\n      });\n      return;\n    }\n\n    loader.classList.remove(\"hidden\");\n    gallery.innerHTML = \"\";\n\n    fetch(`${apiUrl}?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`)\n      .then((response) => {\n        \n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n       \n        return response.json();\n      })\n      .then((data) => {\n       \n        if (data.hits.length === 0) {\n         \n          iziToast.warning({\n              title: \"No Results\",\n              position: \"topRight\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n          });\n        } else {\n       \n          const images = data.hits.map((hit) => ({\n            webformatURL: hit.webformatURL,\n            largeImageURL: hit.largeImageURL,\n            tags: hit.tags,\n            likes: hit.likes,\n            views: hit.views,\n            comments: hit.comments,\n            downloads: hit.downloads,\n          }));\n\n          displayImages(images);\n        }\n      })\n      .catch((error) => {\n       \n        console.error(\"Error fetching data:\", error);\n        iziToast.error({\n            title: \"Error\",\n            position: \"topRight\",\n          message: \"An error occurred while fetching data. Please try again.\",\n        });\n      })\n      .finally(() => {\n      \n        loader.classList.add(\"hidden\");\n      });\n  });\n\n\n  function displayImages(images) {\n\n const galleryHTML = images\n    .map(\n      (image, index) => `\n        <div class=\"gallery-item\">\n          <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"image-thumbnail image-${index + 1}\">\n          </a>\n          <div class=\"image-details image-details-${index + 1}\">\n               <p ><b>Likes:</b> <span class=\"result-likes\">${image.likes}</span></p>\n            <p ><b>Views:</b> <span class=\"result-views\">${image.views}</span></p>\n            <p ><b>Comments:</b><span class=\"result-comments\">${image.comments}</span></p>\n            <p ><b>Downloads:</b> <span class=\"result-downloads\">${image.downloads}</span></p>\n          </div>\n        </div>\n      `\n    )\n    .join(\"\");\n\n\n    gallery.innerHTML = galleryHTML;\n\n\n    lightbox.refresh();\n  }\n});\n"],"names":["form","searchInput","loader","gallery","apiKey","apiUrl","lightbox","SimpleLightbox","event","searchTerm","iziToast","response","data","images","hit","displayImages","error","galleryHTML","image","index"],"mappings":"6vBAMA,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,MAAMA,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAS,qCACTC,EAAS,2BAETC,EAAW,IAAIC,EAAe,YAAY,EAEhDP,EAAK,iBAAiB,SAAWQ,GAAU,CAEzCA,EAAM,eAAc,EAEpB,MAAMC,EAAaR,EAAY,MAAM,KAAI,EAEzC,GAAIQ,IAAe,GAAI,CAErBC,EAAS,MAAM,CACX,MAAO,QACP,SAAU,WACZ,QAAS,6BACjB,CAAO,EACD,MACD,CAEDR,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAQ,UAAY,GAEpB,MAAM,GAAGE,CAAM,QAAQD,CAAM,MAAMK,CAAU,0DAA0D,EACpG,KAAME,GAAa,CAElB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAG1D,OAAOA,EAAS,MACxB,CAAO,EACA,KAAMC,GAAS,CAEd,GAAIA,EAAK,KAAK,SAAW,EAEvBF,EAAS,QAAQ,CACb,MAAO,aACP,SAAU,WACZ,QAAS,0EACrB,CAAW,MACI,CAEL,MAAMG,EAASD,EAAK,KAAK,IAAKE,IAAS,CACrC,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,KAAMA,EAAI,KACV,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,EAEFC,EAAcF,CAAM,CACrB,CACT,CAAO,EACA,MAAOG,GAAU,CAEhB,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CN,EAAS,MAAM,CACX,MAAO,QACP,SAAU,WACZ,QAAS,0DACnB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CAEbR,EAAO,UAAU,IAAI,QAAQ,CACrC,CAAO,CACP,CAAG,EAGD,SAASa,EAAcF,EAAQ,CAEhC,MAAMI,EAAcJ,EAChB,IACC,CAACK,EAAOC,IAAU;AAAA;AAAA,qBAEHD,EAAM,aAAa,yCAAyCA,EAAM,IAAI;AAAA,wBACnEA,EAAM,YAAY,UAAUA,EAAM,IAAI,kCAAkCC,EAAQ,CAAC;AAAA;AAAA,oDAErDA,EAAQ,CAAC;AAAA,8DACCD,EAAM,KAAK;AAAA,2DACdA,EAAM,KAAK;AAAA,gEACNA,EAAM,QAAQ;AAAA,mEACXA,EAAM,SAAS;AAAA;AAAA;AAAA,OAI7E,EACA,KAAK,EAAE,EAGRf,EAAQ,UAAYc,EAGpBX,EAAS,QAAO,CACjB,CACH,CAAC"}